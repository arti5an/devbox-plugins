{
  "$schema": "https://raw.githubusercontent.com/jetify-com/devbox/main/.schema/devbox-plugin.schema.json",
  "name": "rails",
  "version": "0.0.4",
  "description": "This plugin provides a ruby environment suitable for creating and running rails applications using a combination of devbox scripts and rails/rake tasks.",
  "packages": {
    "bundler": "latest",
    "curl": "latest",
    "libyaml": {
      "version": "latest",
      "outputs": ["out", "dev"]
    },
    "libxml2": "latest",
    "ruby": {
      "version": "latest",
      "disable_plugin": true
    },
    "sqlite": "latest"
  },
  "env": {
    "GEM_HOME": "{{ .Virtenv }}",
    "GEMRC": "{{ .DevboxProjectDir }}/.gemrc",
    "PATH": "{{ .DevboxProjectDir }}/bin:{{ .Virtenv }}/bin:$PATH",
    "RAILS_GEM_INSTALL_FLAGS": "",
    "RUBY_CONFDIR": "{{ .Virtenv }}"
  },
  "shell": {
    "init_hook": ["{{ .Virtenv }}/bin/initHook.sh"],
    "scripts": {
      "console": "./bin/rails console",
      "dev": "./bin/dev",
      "jobs": "./bin/jobs",
      "test": "./bin/rails test"
    }
  },
  "create_files": {
    "{{ .Virtenv }}/bin/initHook.sh": "config/initHook.sh",
    "{{ .DevboxProjectDir }}/.gemrc": "config/gemrc",
    "{{ .DevboxProjectDir }}/bin": ""
  }
}
